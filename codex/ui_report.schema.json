{
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "schema_version": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "triaged",
        "fixed",
        "not_fixed",
        "needs_input"
      ]
    },
    "issue": {
      "type": "string"
    },
    "profile": {
      "type": "string"
    },
    "route": {
      "type": "string"
    },
    "root_cause": {
      "type": "string"
    },
    "fix_summary": {
      "type": "string"
    },
    "suspected_files": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "changed_files": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "commands_ran": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "before_screenshot": {
      "type": "string"
    },
    "after_screenshot": {
      "type": [
        "string",
        "null"
      ]
    },
    "checks": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "lint": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "pass",
                "fail",
                "not_run"
              ]
            },
            "command": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "status",
            "command"
          ]
        },
        "typecheck": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "pass",
                "fail",
                "not_run"
              ]
            },
            "command": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "status",
            "command"
          ]
        },
        "tests": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "pass",
                "fail",
                "not_run"
              ]
            },
            "command": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "status",
            "command"
          ]
        },
        "build": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "status": {
              "type": "string",
              "enum": [
                "pass",
                "fail",
                "not_run"
              ]
            },
            "command": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "status",
            "command"
          ]
        }
      },
      "required": [
        "lint",
        "typecheck",
        "tests",
        "build"
      ]
    },
    "notes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "next_actions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    }
  },
  "required": [
    "schema_version",
    "status",
    "issue",
    "profile",
    "route",
    "root_cause",
    "fix_summary",
    "suspected_files",
    "changed_files",
    "commands_ran",
    "before_screenshot",
    "after_screenshot",
    "checks",
    "notes",
    "next_actions"
  ]
}